[TIL] Day24 <br/>
[SEB FE] Day24

## â˜‘ï¸Â Callback Review

> â° `Callback`: ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì „ë‹¬ì¸ì(argument)ë¡œ ë„˜ê²¨ì£¼ëŠ” í•¨ìˆ˜
> âœ‹Â í•„ìš”ì— ë”°ë¼ ì¦‰ì‹œ ì‹¤í–‰(`synchronously`) ê°€ëŠ¥, ë‚˜ì¤‘ì—(`asynchronously`) ì‹¤í–‰ë„ ê°€ëŠ¥
>
> <br/>

### ğŸ“Â Callback in action

1. ë°˜ë³µ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ (`iterator`)

```jsx
// ë°°ì—´ ê¸¸ì´ë§Œí¼ ë°˜ë³µ ì‹¤í–‰
[1, 2, 3].map(function (element, index) {
  return element * element;
});
```

2. ì´ë²¤íŠ¸ì— ë”°ë¥¸ í•¨ìˆ˜ (`event handler`)

```jsx
document.querySelector("#btn").addEventListener("click", function (e) {
  console.log("button clicked");
});
```

```jsx
function handleClick() {
  console.log("button clicked");
}
// handleClick() í˜¸ì¶œì‹œ return ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— ì‹¤í–‰ ê²°ê³¼ëŠ” 'undefined'

document.querySelector("#btn").onclick = handleClick; // â­•ï¸

document.querySelector("#btn").onclick = function () {
  handleClick();
}; // â­•ï¸

document.querySelector("#btn").onclick = handleClick.bind(); // â­•ï¸

// í•¨ìˆ˜ ì‹¤í–‰ì„ ì—°ê²°í•˜ëŠ” ê²ƒì´ ì•„ë‹˜ -> 'í•¨ìˆ˜ ìì²´'ë¥¼ ì—°ê²°í•´ì•¼ í•¨!
document.querySelector("#btn").onclick = handleClick(); // âŒ
```

<br/>

---

## â˜‘ï¸Â ë¹„ë™ê¸°(asynchronous)

> **â°Â ë™ê¸°ì (`synchronous`)**: ìš”ì²­ì— ëŒ€í•œ ê²°ê³¼ê°€ ë™ì‹œì— ë°œìƒ
> **â°Â blocking**

> **â°Â ë¹„ë™ê¸°ì (`asynchronous`)**: ìš”ì²­ì— ëŒ€í•œ ê²°ê³¼ ë™ì‹œì— ë°œìƒí•˜ì§€ ì•ŠìŒ
> **â°Â non-blocking** <br/>
> âœ‹Â `Node.js`ëŠ” `non-blocking`í•˜ê³  ë¹„ë™ê¸°ì (`asynchronous`)ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ëŸ°íƒ€ì„ìœ¼ë¡œ ê°œë°œ

> ğŸ˜Â ë¹„ë™ê¸° í•¨ìˆ˜ ì‹¤í–‰ì‹œ ìˆœì„œê°€ ì œë§˜ëŒ€ë¡œ â†’ ìˆœì„œ ì œì–´ë¥¼ í•˜ê³  ì‹¶ì–´ â†’ `callback`
> â†’ But, callback í•¨ìˆ˜ë¥¼ ë§ì´ ì“°ë©´ ê°€ë…ì„±ì´ ë–¨ì–´ì§ â‡’ `callback hell`
> â†’ `promise` ì‚¬ìš© <br/>
> ğŸ‘‰Â ì¦‰, ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ìˆœì„œë¥¼ ì œì–´í•˜ê³  ì‹¶ì„ ë•Œ `callback`ì„ ì´ìš©

### ğŸ“Â ë¹„ë™ê¸° í•¨ìˆ˜ ì „ë‹¬ íŒ¨í„´

1. callback íŒ¨í„´

   ```jsx
   let request = "coffee";
   orderCoffeeAsync(request, function (response) {
     drink(response);
   });
   ```

2. ì´ë²¤íŠ¸ ë“±ë¡ íŒ¨í„´

   ```jsx
   let request = 'coffee';
   orderCoffeeAsync(request).onready = function(response) {
   	drink(response);
   });
   ```

> â°Â `client`: ì„œë²„ë¡œ ì ‘ì†í•˜ëŠ” ì»´í“¨í„°
> â°Â `server`: ë¬´ì–¸ê°€(ì„œë¹„ìŠ¤, ë¦¬ì†ŒìŠ¤ ë“±)ë¥¼ ì œê³µí•˜ëŠ” ì»´í“¨í„°

<br/>

### ğŸ“Â Promise

> ğŸ˜Â `callback hell` íƒˆì¶œì„ ìœ„í•´ ì‚¬ìš© â†’ But, `Promise`ë„ `Promise hell`ì— ê°‡í ìˆ˜ ìˆìŒ
>
> - `Promise.prototype.then`: `Promise`ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ë©”ì„œë“œ ì²´ì´ë‹(Chaining) ê°€ëŠ¥
> - `Promise.prototype.catch`: ì—ëŸ¬ê°€ ë‚œ ê²½ìš° ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ (ë§ˆì§€ë§‰ ì²´ì´ë‹ì—ì„œ ì‹¤í–‰)

```jsx
const printString = (string) => {
	// 2ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì¸ rejectì— ì—ëŸ¬ê°€ ë‚¬ì„ ê²½ìš°ì˜ ì½œë°± í•¨ìˆ˜ì„ ì ì–´ì£¼ë©´ .catchì™€ ê°™ì€ ì—­í•  ìˆ˜í–‰
	return new Promise((resolve, reject) => {
		setTimeout(
			() => {
				console.log(string)
				resolve()
			},
			Math.floor(Math.random() * 100) + 1
			)
		})
	}

	const printAll = () => {
		printString('A');
		.then(() => {
			return printString('B')
		})
		.then(() => {
			return printString('C');
		})
	}
	printAll()
}

==========

function goToBed() {
	return new Promise((resolve, reject) => {
		setTimeout(() => {resolve(print goToBed)}, 100)
	})
}
```

<br/>

### ğŸ“Â async / await

> `promise hell`ì„ íƒˆì¶œì„ ìœ„í•´ ì‚¬ìš©

```jsx
const result = async () => {
  const one = await gotoComputer();
  console.log(one);

  const two = await sitAndCode();
  console.log(two);

  const three = await eatLunch();
  console.log(three);
};

result();
```

<br/>

### ğŸ“Â Timer API

> JS ë‚´ì¥ ë¹„ë™ê¸° í•¨ìˆ˜

1. `setTimeout(callback, millisecond)`

   : ì¼ì • ì‹œê°„ í›„ì— í•¨ìˆ˜ ì‹¤í–‰

   ```jsx
   const timer = setTimeout(function () {
     console.log("1ì´ˆ í›„ ì‹¤í–‰");
   }, 1000);

   // 1000 -> 1ì´ˆ
   // 10000 -> 10ì´ˆ
   ```

<br/>

2.  `clearTimeout(timerId)`

        : setTimeout íƒ€ì´ë¨¸ ì¢…ë£Œ

        ```jsx
        clearTimeout(timer);
        ```

    <br/>

3.  `setInterval(callback, millisecond)`

        : ì¼ì • ì‹œê°„ì˜ ê°„ê²©ì„ ê°€ì§€ê³  í•¨ìˆ˜ ë°˜ë³µì  ì‹¤í–‰

        ```jsx
        setInterval(function() {
        	conosle.log('3ì´ˆë§ˆë‹¤ ì‹¤í–‰');
        }, 3000);
        ```

    <br/>

4.  `clearInterval(timerId)`

    ```jsx
    clearInterval(timer);
    ```
