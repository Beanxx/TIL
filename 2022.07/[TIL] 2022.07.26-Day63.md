2022.07.25(Tues)

[TIL] Day63 <br/>
[SEB FE] Day64

## â˜‘ï¸Â Reactì— Webpack ì‚¬ìš©í•´ë³´ê¸°

1. `Install`

   ```bash
   # webpack ì„¤ì¹˜
   $ npm install -D webpack webpack-cli

   # babel ì„¤ì¹˜
   $ npm install --save-dev @babel/core babel-loader @babel/preset-react @babel/preset-env

   # web-dev-server, ê°œë°œìš© ì„œë²„ ì„¤ì¹˜
   $ npm install --save-dev webpack-dev-server

   # html-webpack-plugin
   $ npm install --save-dev html-webpack-plugin

   # css-loader, style-loader ì„¤ì¹˜
   $ npm i -D css-loader style-loader
   ```

2. `webpack.config.js`

   ```jsx
   const path = require("path");
   const HtmlWebpackPlugin = require("html-webpack-plugin");
   const MiniCssExtractPlugin = require("mini-css-extract-plugin");
   const CssMinimizerPlugin = require("css-minimizer-webpack-plugin");

   module.exports = {
     mode: "development", // ì‘ë™ ëª¨ë“œë¥¼ ê°œë°œìëª¨ë“œë¡œ ì„¤ì •
     entry: "./src/index.js",
     devServer: {
       static: "./dist",
     },
     output: {
       path: path.join(__dirname, "/dist"),
       filename: "[name].js",
       clean: true, // ë²ˆë“¤ë§í•  ë•Œ ë§ˆë‹¤ dist ë””ë ‰í„°ë¦¬ ì •ë¦¬
     },
     module: {
       rules: [
         {
           test: /\.js$/,
           exclude: /node_modules/,
           use: {
             loader: "babel-loader",
           },
         },
         {
           test: /.s?css$/,
           use: [MiniCssExtractPlugin.loader, "css-loader"],
           exclude: /node_modules/,
         },
       ],
     },
     // Asset ê´€ë¦¬
     optimization: {
       minimizer: [new CssMinimizerPlugin()],
       runtimeChunk: "single",
     },

     // html-webpack-plugin
     plugins: [
       new HtmlWebpackPlugin({
         template: path.resolve(__dirname, "./public/index.html"),
       }),
       new MiniCssExtractPlugin(),
     ],
   };
   ```

3. `.babelrc` íŒŒì¼ ì¶”ê°€

   ```jsx
   {
     "presets": [
         "@babel/env",
         "@babel/react"
     ]
   }
   ```

4. `package.json` `â€scriptsâ€` ë³€ê²½

   ```jsx
   "scripts": {
       "start": "webpack-dev-server --mode development --open --hot",
       "build": "webpack --mode production",
   },
   ```

5. `import React from "react";`

   âœ¨Â `React undefined ...` ì—ëŸ¬ê°€ ë°œìƒí•˜ë¯€ë¡œ `App.js`, components ë‚´ì˜ js íŒŒì¼ì— ì•„ë˜ ì½”ë“œ ì¶”ê°€í•´ì¤˜ì•¼ í•¨!

   ```jsx
   import React from "react";
   ```

<br/>

### ğŸ“Â github pageì— webpack ë°°í¬í•˜ê¸°

> ì˜¤ëŠ˜ì€ ì–´ì œ github repositoryì— ì§ì ‘ docs í´ë”ë§Œ ì˜¬ë¦¬ëŠ” ë°©ì‹ì´ ì•„ë‹ˆë¼ í˜ì–´ë‹˜ì´ ì•Œë ¤ì£¼ì‹  ë°©ì‹ëŒ€ë¡œ ê¹ƒí—™ í˜ì´ì§€ ë°°í¬ë¥¼ í•´ë³´ì•˜ë‹¤!

```bash
$ npm install gh-pages --save-dev
```

```bash
// package.json

// scripts ë¶€ë¶„ì— predeploy, deploy ì½”ë“œ ì¶”ê°€
"scripts": {
    "predeploy": "npm run build",
		"deploy": "gh-pages -d dist"
},

// homepageì— github repository ì£¼ì†Œ ì¶”ê°€
"homepage": "https://beanxx.github.io/fe-sprint-react-webpack/",
```

- ìœ„ì˜ ì„¤ì •í•´ì£¼ê³ , github í•´ë‹¹ repositoryì˜ settings - pages í˜ì´ì§€ì— ë“¤ì–´ê°€ì„œ github page ìƒì„±í•´ì£¼ê³ , ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì„¤ì • ë!
  ```bash
  # ì•„ë˜ ì½”ë“œë¡œ deloy scriptë¥¼ ì‹¤í–‰
  $ npm run deploy
  ```
- ë§ˆì§€ë§‰ìœ¼ë¡œ ë‹¤ì‹œ setting - pages ì—ì„œ branchë¥¼ gh-pagesë¡œ ë°”ê¾¸ê³ , /root í´ë”ë¥¼ ì„¤ì •í•´ì£¼ë©´ ë°°í¬ ë âœ¨
