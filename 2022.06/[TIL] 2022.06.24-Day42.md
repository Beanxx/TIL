2022.06.24(Fri)

[TIL] Day42 <br/>
[SEB FE] Day41

## â˜‘ï¸Â JSON.stringify

> `JSON`(`Javascript Object Notation`): ë°ì´í„° êµí™˜ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ê°ì²´ í˜•íƒœ í¬ë§·<br/>
> â° JSONì€ JavaScript ê°ì²´ì™€ ë‹¤ë¥¸ ê·œì¹™ì„ ê°€ì§

âœ‹Â ê°ì²´ëŠ” íƒ€ì… ë³€í™˜ì„ ì´ìš©í•´ Stringìœ¼ë¡œ ë³€í™˜í•  ê²½ìš°, ê°ì²´ ë‚´ìš© í¬í•¨ âŒ

- JSì—ì„œ <u>ê°ì²´ â†’ ë¬¸ìì—´</u>ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ ë©”ì„œë“œ(`message.toString()`)ë‚˜ í˜•ë³€í™˜(`String(message)`)ë¥¼ ì‹œë„í•˜ë©´, `[object object]` ê²°ê³¼ ë¦¬í„´

- `JSON.stringify`: ê°ì²´ â†’ JSONìœ¼ë¡œ ë³€í™˜ (`typeof: string`); ì§ë ¬í™”(serialize)
- `JSON.parse`: <u>JSON â†’ ê°ì²´</u>ë¡œ ë³€í™˜ (`typeof: object`); ì—­ì§ë ¬í™”(deserialize)

|                        |                  JS ê°ì²´                  |                   JSON                   |
| :--------------------: | :---------------------------------------: | :--------------------------------------: |
|          key           |     â€œâ€ ì—†ì´ OK<br/>{key: â€œpropertyâ€}      |    ë°˜ë“œì‹œ â€œâ€<br/>'{â€keyâ€:â€propertyâ€}'    |
|       ë¬¸ìì—´ ê°’        |                â€˜â€™ ì‚¬ìš© OK                 |                ë°˜ë“œì‹œ â€œâ€                 |
| key & value ì‚¬ì´ ê³µë°±  |     ì‚¬ìš© â­•ï¸<br/>{â€keyâ€: â€˜propertyâ€™}      |     ì‚¬ìš© âŒ<br/>'{â€keyâ€:â€propertyâ€}'     |
| key-value ìŒ ì‚¬ì´ ê³µë°± | ì‚¬ìš© â­•ï¸<br/>{ â€œkeyâ€: â€˜propertyâ€™, num:1 } | ì‚¬ìš© âŒ<br/>'{â€keyâ€:â€propertyâ€,â€numâ€:1}' |

<br/>

---

### âœï¸Â fe-sprint-stringify-json

> `JSON.stringify()` ë©”ì†Œë“œë¥¼ í•¨ìˆ˜ í˜•íƒœë¡œ ì§ì ‘ êµ¬í˜„í•´ë³´ê¸° ğŸ™Œ

```jsx
function stringifyJSON(obj) {
  // return JSON.stringify(obj);

  // number, boolean, null type -> string type
  if (typeof obj === "number" || typeof obj === "boolean" || obj === null) {
    return `${obj}`;
  }

  // string type -> string ì•ˆì˜ ë‹¤ì‹œ string type
  if (typeof obj === "string") {
    return `"${obj}"`;
  }

  // array type -> array ë‚´ì˜ string type
  if (Array.isArray(obj)) {
    // let newArr = [];
    // for (let item of obj) {
    //   newArr.push(stringifyJSON(item));
    // }
    // return `[${newArr}]`;

    // reference
    let result = "";
    for (let el of obj) {
      result += stringifyJSON(el) + ",";
    }
    // ex. '1', '2', '3',
    result = result.slice(0, -1); // ë§¨ ë ìš”ì†Œì— ë¶™ì–´ìˆëŠ” ',' ì œê±°
    return `[${result}]`;
  }

  // object type -> obejct ë‚´ì˜ string type
  if (typeof obj === "object") {
    let result = "";
    for (let key in obj) {
      // ì¡°ê±´: function, undefinedëŠ” stringify ë˜ì§€ ì•ŠìŒ
      if (typeof obj[key] === "function" || obj[key] === undefined) {
        continue;
      }
      result += `${stringifyJSON(key)}:${stringifyJSON(obj[key])},`;
    }
    result = result.slice(0, -1); // ë§¨ ë ìš”ì†Œì— ë¶™ì–´ìˆëŠ” ',' ì œê±°
    // JSON í˜•ì‹: '{"key":"property"}'
    return `{${result}}`;
  }
}
```

<img width="1498" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-06-25 á„‹á…©á„Œá…¥á†« 12 12 10" src="https://user-images.githubusercontent.com/64299610/175570985-2dee2835-fad7-4856-a1d0-d7b22db06a25.png">

<br/>

---

### âœï¸Â fe-sprint-tree-ui

> ì¬ê·€ë¥¼ ì‚¬ìš©í•´ì„œ Tree UI êµ¬í˜„í•´ë³´ê¸° ğŸ™Œ

```jsx
// dummy data
const menu = [
  {
    type: "group",
    name: "ìŒë£Œ",
    children: [
      {
        type: "group",
        name: "ì½œë“œ ë¸Œë£¨",
        children: [
          { type: "item", name: "ë‚˜ì´íŠ¸ë¡œ ì½œë“œ ë¸Œë£¨" },
          { type: "item", name: "ëŒì²´ ì½œë“œ ë¸Œë£¨" },
          { type: "item", name: "ì œì£¼ ë¹„ìë¦¼ ì½œë“œ ë¸Œë£¨" },
          { type: "item", name: "ì½œë“œ ë¸Œë£¨" },
        ],
      },
		...
	}
]
```

```jsx

const root = document.getElementById("root");

function createTreeView(menu, currentNode) {
  for (let arrayItem of menu) {
    const liEl = document.createElement("li");
	// dummy data ì¤‘ì—ì„œ type keyì— í•´ë‹¹í•˜ëŠ” valueê°€ itemë¼ëŠ” ê²ƒì€
	// ë”ì´ìƒì˜ ìì‹ìš”ì†Œê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸
    if (arrayItem.type === "item") {  // ë”ì´ìƒ ìì‹ ìš”ì†Œê°€ ì—†ì„ ë•Œ
	// if (!el.children) <- ìì‹ ìš”ì†Œ ì—†ìŒì„ ì˜ë¯¸ (ìœ„ ì½”ë“œì™€ ê°™ì€ ë‚´ìš©)
	  // ê·¸ëƒ¥ nameì„ ì¶œë ¥
      liEl.textContent = arrayItem.name;
      currentNode.appendChild(liEl);
    } else { // ìì‹ ìš”ì†Œê°€ ìˆì„ ë•Œ
	  // input element ìš”ì†Œ ìƒì„±
      const inputEl = document.createElement("input");

	  // ìœ„ inputEl element type ì†ì„±ì„ 'checkbox'ë¡œ ì„¤ì •
      inputEl.setAttribute("type", "checkbox");
	  //inputEl.type = "checkbox"; <- (ìœ„ ì½”ë“œì™€ ê°™ì€ ë‚´ìš©)

      const spanEl = document.createElement("span");
	  // span element ë‚´ìš©ì— name ì¶œë ¥
      spanEl.textContent = arrayItem.name;

      const ulEl = document.createElement("ul");

	  // li elementì˜ ìì‹ìš”ì†Œë¡œ input, span, ul element ì„¤ì •
      liEl.appendChild(inputEl);
      liEl.appendChild(spanEl);
      liEl.appendChild(ulEl);
	  // liEl.append(inputEl, spanEl, ulEl); <- í•œ ì¤„ë¡œ ìœ„ 3ì¤„ ì½”ë“œì™€ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ ì²˜ë¦¬

	  // ìµœìƒìœ„ ë…¸ë“œ rootì— li elementë¥¼ ìì‹ìš”ì†Œë¡œ ë¶™ì„
      currentNode.appendChild(liEl);

	  // ì¬ê·€ í•¨ìˆ˜ ì‹¤í–‰
      createTreeView(arrayItem.children, ulEl);
    }
  }

createTreeView(menu, root);
```

<img width="1005" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-06-25 á„‹á…©á„Œá…¥á†« 12 25 29" src="https://user-images.githubusercontent.com/64299610/175570997-845607d7-c9f7-4bc2-be65-791e47757846.png">

<br/>

---

> ë°°ìš´ì§€ ì˜¤ëœë§Œì— ë‹¤ì‹œ DOMì„ ë‹¤ë£¨ë ¤ë‹ˆê¹Œ ë©”ì†Œë“œ ì´ë¦„ì´ë‘ ì–´ë–»ê²Œ ì¼ë˜ê±´ì§€ ê¸°ì–µì´ ê°€ë¬¼ê°€ë¬¼í•´ì„œ ì¢€ ì• ë¨¹ì—ˆì—ˆë‹¤,, <br/>í˜ì–´ë‹˜ ë•ë¶„ì— ì½”ë“œ ë‹¤ì‹œ í•œë²ˆ ì¨ë³´ë©´ì„œ ì–´ëŠì •ë„ ë‹¤ì‹œ ê° ì¡ì„ ìˆ˜ ìˆì—ˆë˜..ğŸ™Œ
